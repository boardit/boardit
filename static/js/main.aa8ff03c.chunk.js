(this.webpackJsonpboardit=this.webpackJsonpboardit||[]).push([[0],{100:function(e,t){function r(e,t){this.raw_options=n(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function n(e,t){var r,n={};for(r in e=i(e))r!==t&&(n[r]=e[r]);if(t&&e[t])for(r in e[t])n[r]=e[t][r];return n}function i(e){var t,r={};for(t in e){r[t.replace(/-/g,"_")]=e[t]}return r}r.prototype._get_array=function(e,t){var r=this.raw_options[e],n=t||[];return"object"===typeof r?null!==r&&"function"===typeof r.concat&&(n=r.concat()):"string"===typeof r&&(n=r.split(/[^a-zA-Z0-9_/-]+/)),n},r.prototype._get_boolean=function(e,t){var r=this.raw_options[e];return void 0===r?!!t:!!r},r.prototype._get_characters=function(e,t){var r=this.raw_options[e],n=t||"";return"string"===typeof r&&(n=r.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),n},r.prototype._get_number=function(e,t){var r=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var n=parseInt(r,10);return isNaN(n)&&(n=t),n},r.prototype._get_selection=function(e,t,r){var n=this._get_selection_list(e,t,r);if(1!==n.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n[0]},r.prototype._get_selection_list=function(e,t,r){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(r=r||[t[0]],!this._is_valid_selection(r,t))throw new Error("Invalid Default Value!");var n=this._get_array(e,r);if(!this._is_valid_selection(n,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n},r.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},e.exports.Options=r,e.exports.normalizeOpts=i,e.exports.mergeOpts=n},101:function(e,t){function r(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function i(e,t){this.__indent_cache=new n(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var e=new r(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},r.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},r.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},r.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},r.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},n.prototype.get_indent_size=function(e,t){var r=this.__base_string_length;return t=t||0,e<0&&(r=0),r+=e*this.__indent_size,r+=t},n.prototype.get_indent_string=function(e,t){var r=this.__base_string;return t=t||0,e<0&&(e=0,r=""),t+=e*this.__indent_size,this.__ensure_cache(t),r+=this.__cache[t]},n.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},n.prototype.__add_column=function(){var e=this.__cache.length,t=0,r="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,r=new Array(t+1).join(this.__indent_string)),e&&(r+=new Array(e+1).join(" ")),this.__cache.push(r)},i.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},i.prototype.get_line_number=function(){return this.__lines.length},i.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},i.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},i.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},i.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},i.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var r=this.__lines.join("\n");return"\n"!==e&&(r=r.replace(/[\n]/g,e)),r},i.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},i.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},i.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},i.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},i.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},i.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},i.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},i.prototype.just_added_newline=function(){return this.current_line.is_empty()},i.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},i.prototype.ensure_empty_line_above=function(e,t){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(e)&&i.item(-1)!==t){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},e.exports.Output=i},102:function(e,t){var r=RegExp.prototype.hasOwnProperty("sticky");function n(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},n.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},n.prototype.__match=function(e,t){e.lastIndex=t;var n=e.exec(this.__input);return!n||r&&e.sticky||n.index!==t&&(n=null),n},n.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},n.prototype.testChar=function(e,t){var r=this.peek(t);return e.lastIndex=0,null!==r&&e.test(r)},n.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},n.prototype.read=function(e,t,r){var n,i="";return e&&(n=this.match(e))&&(i+=n[0]),!t||!n&&e||(i+=this.readUntil(t,r)),i},n.prototype.readUntil=function(e,t){var r,n=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(n=i.index,t&&(n+=i[0].length)):n=this.__input_length,r=this.__input.substring(this.__position,n),this.__position=n,r},n.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},n.prototype.get_regexp=function(e,t){var n=null,i="g";return t&&r&&(i="y"),"string"===typeof e&&""!==e?n=new RegExp(e,i):e&&(n=new RegExp(e.source,i)),n},n.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(e){var t=this.__position,r=this.readUntilAfter(e);return this.__position=t,r},n.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=n},103:function(e,t){e.exports.Token=function(e,t,r,n){this.type=e,this.text=t,this.comments_before=null,this.newlines=r||0,this.whitespace_before=n||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},104:function(e,t){function r(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}r.prototype.restart=function(){this.__position=0},r.prototype.isEmpty=function(){return 0===this.__tokens_length},r.prototype.hasNext=function(){return this.__position<this.__tokens_length},r.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},r.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},r.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},e.exports.TokenStream=r},105:function(e,t,r){var n=r(17).Pattern;function i(e,t){n.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new n,i.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},i.prototype.matching=function(e,t){var r=this._create();return r.__set_whitespace_patterns(e,t),r._update(),r},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(e,t){e.lastIndex=0;for(var r=0,n=[],i=e.exec(t);i;)n.push(t.substring(r,i.index)),r=i.index+i[0].length,i=e.exec(t);return r<t.length?n.push(t.substring(r,t.length)):n.push(""),n},e.exports.WhitespacePattern=i},106:function(e,t){function r(e,t){e="string"===typeof e?e:e.source,t="string"===typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}r.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var r=this.__directive_pattern.exec(e);r;)t[r[1]]=r[2],r=this.__directive_pattern.exec(e);return t},r.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=r},107:function(e,t,r){var n=r(17).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1};function o(e,t){n.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var r=new n(e);this.__patterns={handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:r.starting_with(/{{{/).until_after(/}}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),php:r.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:r.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:r.starting_with(/{%/).until_after(/%}/),django_value:r.starting_with(/{{/).until_after(/}}/),django_comment:r.starting_with(/{#/).until_after(/#}/)}}o.prototype=new n,o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){this.__set_templated_pattern()},o.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},o.prototype.read_options=function(e){var t=this._create();for(var r in i)t._disabled[r]=-1===e.templating.indexOf(r);return t._update(),t},o.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},o.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},o.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},o.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var r=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==r||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==r||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())));return e},e.exports.TemplatablePattern=o},108:function(e,t,r){"use strict";r.r(t);var n=r(3),i=r.n(n),o=r(65),a=r.n(o),s=(r(76),r(0)),_=r(1),l=r(6),u=r(4),c=r(5),h=(r(77),r(66)),d=r.n(h);r(85),r(86),r(87),r(16),r(88),r(89),r(90),r(91);["monokai","github","tomorrow","kuroir","twilight","xcode","textmate","solarized_dark","solarized_light","terminal"].forEach((function(e){return r(92)("./theme-".concat(e))}));var p=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).state={theme:"monokai"},n.setTheme=n.setTheme.bind(Object(l.a)(n)),n}return Object(_.a)(r,[{key:"setTheme",value:function(e){this.setState({theme:e})}},{key:"render",value:function(){var e=[{name:"format",bindKey:{win:"Ctrl-Space",mac:"Command-Space"},exec:this.props.callbacks.format},{name:"save",bindKey:{win:"Ctrl-Shift-Space",mac:"Command-Shift-Space"},exec:this.props.callbacks.save}];return i.a.createElement(d.a,{placeholder:"source code",mode:"html",theme:this.state.theme,onChange:this.props.callbacks.change,name:"editor",editorProps:{$blockScrolling:!0},value:this.props.value,commands:e,width:"45vw",height:"85vh",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,wrapEnabled:!0})}}]),r}(i.a.Component),f=r(67),m=(r(93),r(94),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(_.a)(r,[{key:"componentDidMount",value:function(){var e=new f.a;e.initialize(),this.setState({reveal:e,content:this.props.content}),this.props.versionCallback(e.VERSION)}},{key:"componentDidUpdate",value:function(){var e=this.props.content;this.state.content!==e&&(this.setState({content:e}),this.state.reveal.toggleOverview(),this.state.reveal.toggleOverview())}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("link",{rel:"stylesheet",href:"/node_modules/reveal.js/dist/reveal.css"}),i.a.createElement("link",{rel:"stylesheet",href:"/node_modules/reveal.js/dist/theme/black.css"}),i.a.createElement("div",{className:"reveal",style:{position:"absolute",left:"50%",top:0,width:"50%",height:"80%"}},i.a.createElement("div",{className:"slides",dangerouslySetInnerHTML:{__html:this.props.content}})))}}]),r}(i.a.Component)),v=(r(95),r(96),function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(_.a)(r,[{key:"render",value:function(){return i.a.createElement("div",{className:"menu-item",onClick:this.props.onClick},i.a.createElement("p",null,this.props.text))}}]),r}(i.a.Component)),b=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(_.a)(r,[{key:"createItem",value:function(e,t){return{text:e,onClick:t}}},{key:"render",value:function(){var e=[this.createItem("Save",this.props.callbacks.save),this.createItem("Format",this.props.callbacks.format)];return i.a.createElement("div",{className:"menubar"},e.map((function(e){return i.a.createElement(v,{text:e.text,onClick:e.onClick})})))}}]),r}(i.a.Component),g=r(18),y=r.n(g),w=r(7),k=r.n(w),S=(r(98),r(70));var x=function(){},T=r(68),j=Number.isNaN||function(e){return e!==e};function R(e){return"string"===typeof e||"symbol"===typeof e}function E(e){return"object"===typeof e&&null!==e||"function"===typeof e}function P(e){return e.slice()}function O(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}function A(e){return!1!==q(e)&&e!==1/0}function q(e){return"number"===typeof e&&(!j(e)&&!(e<0))}function C(e,t,r){if("function"!==typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function z(e,t,r,n){x(void 0!==e),x(R(t)),x(0===r||1===r),x(Array.isArray(n));var i=e[t];if(void 0!==i){if("function"!==typeof i)throw new TypeError("".concat(i," is not a method"));switch(r){case 0:return function(){return I(i,e,n)};case 1:return function(t){var r=[t].concat(n);return I(i,e,r)}}}return function(){return Promise.resolve()}}function W(e,t,r){x(void 0!==e),x(R(t)),x(Array.isArray(r));var n=e[t];if(void 0!==n)return C(n,e,r)}function I(e,t,r){x("function"===typeof e),x(void 0!==t),x(Array.isArray(r));try{return Promise.resolve(C(e,t,r))}catch(n){return Promise.reject(n)}}function B(e){if(e=Number(e),j(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e}function N(e){if(void 0===e)return function(){return 1};if("function"!==typeof e)throw new TypeError("size property of a queuing strategy must be a function");return function(t){return e(t)}}function F(e,t,r){var n,i=!1,o=function(e){!1===i&&(i=!0,r(e))},a=0,s=0,_=e.length,l=new Array(_),u=Object(T.a)(e);try{var c=function(){var e=n.value,r=a;!function(e,t,r){Promise.prototype.then.call(e,t,r)}(e,(function(e){l[r]=e,++s===_&&t(l)}),o),++a};for(u.s();!(n=u.n()).done;)c()}catch(h){u.e(h)}finally{u.f()}}var L=function(){},U=function(){function e(){Object(s.a)(this,e),this._front=void 0,this._back=void 0,this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object(_.a)(e,[{key:"push",value:function(e){var t=this._back,r=t;x(void 0===t._next),16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}},{key:"shift",value:function(){x(this._size>0);var e=this._front,t=e,r=this._cursor,n=r+1,i=e._elements,o=i[r];return 16384===n&&(x(16384===i.length),x(void 0!==e._next),t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,o}},{key:"forEach",value:function(e){for(var t=this._cursor,r=this._front,n=r._elements;(t!==n.length||void 0!==r._next)&&(t!==n.length||(x(void 0!==r._next),x(16384===t),t=0,0!==(n=(r=r._next)._elements).length));)e(n[t]),++t}},{key:"peek",value:function(){x(this._size>0);var e=this._front,t=this._cursor;return e._elements[t]}},{key:"length",get:function(){return this._size}}]),e}();function M(e){x("_queue"in e&&"_queueTotalSize"in e),x(e._queue.length>0);var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function D(e,t,r){if(x("_queue"in e&&"_queueTotalSize"in e),!A(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function K(e){x("_queue"in e&&"_queueTotalSize"in e),e._queue=new U,e._queueTotalSize=0}var V=Symbol("[[AbortSteps]]"),G=Symbol("[[ErrorSteps]]"),Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,e),this._state=void 0,this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=void 0,this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=void 0,X(this);var n=r.size,i=r.highWaterMark,o=t.type;if(void 0!==o)throw new RangeError("Invalid type is specified");var a=N(n);void 0===i&&(i=1),fe(this,t,i=B(i),a)}return Object(_.a)(e,[{key:"abort",value:function(e){return!1===Q(this)?Promise.reject(ke("abort")):!0===$(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):J(this,e)}},{key:"getWriter",value:function(){if(!1===Q(this))throw ke("getWriter");return H(this)}},{key:"locked",get:function(){if(!1===Q(this))throw ke("locked");return $(this)}}]),e}();function H(e){return new ae(e)}function X(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new U,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Q(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function $(e){return x(!0===Q(e)),void 0!==e._writer}function J(e,t){var r=e._state;if("closed"===r||"errored"===r)return Promise.resolve(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;x("writable"===r||"erroring"===r);var n=!1;"erroring"===r&&(n=!0,t=void 0);var i=new Promise((function(r,i){e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:i,_reason:t,_wasAlreadyErroring:n}}));return e._pendingAbortRequest._promise=i,!1===n&&ee(e,t),i}function Z(e,t){var r=e._state;"writable"!==r?(x("erroring"===r),te(e)):ee(e,t)}function ee(e,t){x(void 0===e._storedError),x("writable"===e._state);var r=e._writableStreamController;x(void 0!==r),e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&ue(n,t),!1===ne(e)&&!0===r._started&&te(e)}function te(e){x("erroring"===e._state),x(!1===ne(e)),e._state="errored",e._writableStreamController[G]();var t=e._storedError;if(e._writeRequests.forEach((function(e){e._reject(t)})),e._writeRequests=new U,void 0!==e._pendingAbortRequest){var r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===r._wasAlreadyErroring)return r._reject(t),void ie(e);e._writableStreamController[V](r._reason).then((function(){r._resolve(),ie(e)}),(function(t){r._reject(t),ie(e)}))}else ie(e)}function re(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function ne(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function ie(e){x("errored"===e._state),void 0!==e._closeRequest&&(x(void 0===e._inFlightCloseRequest),e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&Re(t,e._storedError)}function oe(e,t){x("writable"===e._state),x(!1===re(e));var r=e._writer;void 0!==r&&t!==e._backpressure&&(!0===t?function(e){x(void 0===e._readyPromise_resolve),x(void 0===e._readyPromise_reject),Pe(e)}(r):(x(!1===t),Ce(r))),e._backpressure=t}var ae=function(){function e(t){if(Object(s.a)(this,e),this._ownerWritableStream=void 0,this._closedPromise=void 0,this._closedPromise_resolve=void 0,this._closedPromise_reject=void 0,this._closedPromiseState=void 0,this._readyPromise=void 0,this._readyPromise_resolve=void 0,this._readyPromise_reject=void 0,this._readyPromiseState=void 0,!1===Q(t))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===$(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var r,n=t._state;if("writable"===n)!1===re(t)&&!0===t._backpressure?Pe(this):Ae(this),Te(this);else if("erroring"===n)Oe(this,t._storedError),Te(this);else if("closed"===n)Ae(this),Te(r=this),Ee(r);else{x("errored"===n);var i=t._storedError;Oe(this,i),je(this,i)}}return Object(_.a)(e,[{key:"abort",value:function(e){return!1===se(this)?Promise.reject(Se("abort")):void 0===this._ownerWritableStream?Promise.reject(xe("abort")):function(e,t){var r=e._ownerWritableStream;return x(void 0!==r),J(r,t)}(this,e)}},{key:"close",value:function(){if(!1===se(this))return Promise.reject(Se("close"));var e=this._ownerWritableStream;return void 0===e?Promise.reject(xe("close")):!0===re(e)?Promise.reject(new TypeError("cannot close an already-closing stream")):_e(this)}},{key:"releaseLock",value:function(){if(!1===se(this))throw Se("releaseLock");var e=this._ownerWritableStream;void 0!==e&&(x(void 0!==e._writer),ce(this))}},{key:"write",value:function(e){return!1===se(this)?Promise.reject(Se("write")):void 0===this._ownerWritableStream?Promise.reject(xe("write to")):he(this,e)}},{key:"closed",get:function(){return!1===se(this)?Promise.reject(Se("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===se(this))throw Se("desiredSize");if(void 0===this._ownerWritableStream)throw xe("desiredSize");return function(e){var t=e._ownerWritableStream,r=t._state;if("errored"===r||"erroring"===r)return null;if("closed"===r)return 0;return ve(t._writableStreamController)}(this)}},{key:"ready",get:function(){return!1===se(this)?Promise.reject(Se("ready")):this._readyPromise}}]),e}();function se(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function _e(e){var t=e._ownerWritableStream;x(void 0!==t);var r=t._state;if("closed"===r||"errored"===r)return Promise.reject(new TypeError("The stream (in ".concat(r," state) is not in the writable state and cannot be closed")));x("writable"===r||"erroring"===r),x(!1===re(t));var n,i=new Promise((function(e,r){var n={_resolve:e,_reject:r};t._closeRequest=n}));return!0===t._backpressure&&"writable"===r&&Ce(e),D(n=t._writableStreamController,"close",0),be(n),i}function le(e,t){"pending"===e._closedPromiseState?Re(e,t):function(e,t){x(void 0===e._closedPromise_resolve),x(void 0===e._closedPromise_reject),x("pending"!==e._closedPromiseState),je(e,t)}(e,t)}function ue(e,t){"pending"===e._readyPromiseState?qe(e,t):function(e,t){x(void 0===e._readyPromise_resolve),x(void 0===e._readyPromise_reject),Oe(e,t)}(e,t)}function ce(e){var t=e._ownerWritableStream;x(void 0!==t),x(t._writer===e);var r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");ue(e,r),le(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function he(e,t){var r=e._ownerWritableStream;x(void 0!==r);var n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(r){return ge(e,r),1}}(n,t);if(r!==e._ownerWritableStream)return Promise.reject(xe("write to"));var o=r._state;if("errored"===o)return Promise.reject(r._storedError);if(!0===re(r)||"closed"===o)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return Promise.reject(r._storedError);x("writable"===o);var a=function(e){return x(!0===$(e)),x("writable"===e._state),new Promise((function(t,r){var n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){var n={chunk:t};try{D(e,n,r)}catch(a){return void ge(e,a)}var i=e._controlledWritableStream;if(!1===re(i)&&"writable"===i._state){var o=ye(e);oe(i,o)}be(e)}(n,t,i),a}var de=function(){function e(){throw Object(s.a)(this,e),this._controlledWritableStream=void 0,this._queue=void 0,this._queueTotalSize=void 0,this._started=void 0,this._strategySizeAlgorithm=void 0,this._strategyHWM=void 0,this._writeAlgorithm=void 0,this._closeAlgorithm=void 0,this._abortAlgorithm=void 0,new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return Object(_.a)(e,[{key:"error",value:function(e){if(!1===function(e){if(!E(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))return!1;return!0}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&we(this,e)}},{key:V,value:function(e){var t=this._abortAlgorithm(e);return me(this),t}},{key:G,value:function(){K(this)}}]),e}();function pe(e,t,r,n,i,o,a,s){x(!0===Q(e)),x(void 0===e._writableStreamController),t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,K(t),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=o;var _=ye(t);oe(e,_);var l=r();Promise.resolve(l).then((function(){x("writable"===e._state||"erroring"===e._state),t._started=!0,be(t)}),(function(r){x("writable"===e._state||"erroring"===e._state),t._started=!0,Z(e,r)})).catch(L)}function fe(e,t,r,n){x(void 0!==t);var i=Object.create(de.prototype);var o=z(t,"write",1,[i]),a=z(t,"close",0,[]),s=z(t,"abort",1,[]);pe(e,i,(function(){return W(t,"start",[i])}),o,a,s,r,n)}function me(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ve(e){return e._strategyHWM-e._queueTotalSize}function be(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var r=t._state;if(x("closed"!==r&&"errored"!==r),"erroring"!==r){if(0!==e._queue.length){var n,i=(x("_queue"in(n=e)&&"_queueTotalSize"in n),x(n._queue.length>0),n._queue.peek().value);"close"===i?function(e){var t=e._controlledWritableStream;(function(e){x(void 0===e._inFlightCloseRequest),x(void 0!==e._closeRequest),e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),M(e),x(0===e._queue.length);var r=e._closeAlgorithm();me(e),r.then((function(){!function(e){x(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state;x("writable"===t||"erroring"===t),"erroring"===t&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var r=e._writer;void 0!==r&&Ee(r),x(void 0===e._pendingAbortRequest),x(void 0===e._storedError)}(t)}),(function(e){!function(e,t){x(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,x("writable"===e._state||"erroring"===e._state),void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),Z(e,t)}(t,e)})).catch(L)}(e):function(e,t){var r=e._controlledWritableStream;(function(e){x(void 0===e._inFlightWriteRequest),x(0!==e._writeRequests.length),e._inFlightWriteRequest=e._writeRequests.shift()})(r),e._writeAlgorithm(t).then((function(){!function(e){x(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);var t=r._state;if(x("writable"===t||"erroring"===t),M(e),!1===re(r)&&"writable"===t){var n=ye(e);oe(r,n)}be(e)}),(function(t){"writable"===r._state&&me(e),function(e,t){x(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,x("writable"===e._state||"erroring"===e._state),Z(e,t)}(r,t)})).catch(L)}(e,i.chunk)}}else te(t)}}function ge(e,t){"writable"===e._controlledWritableStream._state&&we(e,t)}function ye(e){return ve(e)<=0}function we(e,t){var r=e._controlledWritableStream;x("writable"===r._state),me(e),ee(r,t)}function ke(e){return new TypeError("WritableStream.prototype.".concat(e," can only be used on a WritableStream"))}function Se(e){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(e," can only be used on a WritableStreamDefaultWriter"))}function xe(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Te(e){e._closedPromise=new Promise((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function je(e,t){Te(e),Re(e,t)}function Re(e,t){x(void 0!==e._closedPromise_resolve),x(void 0!==e._closedPromise_reject),x("pending"===e._closedPromiseState),e._closedPromise.catch((function(){})),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function Ee(e){x(void 0!==e._closedPromise_resolve),x(void 0!==e._closedPromise_reject),x("pending"===e._closedPromiseState),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function Pe(e){e._readyPromise=new Promise((function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function Oe(e,t){Pe(e),qe(e,t)}function Ae(e){Pe(e),Ce(e)}function qe(e,t){x(void 0!==e._readyPromise_resolve),x(void 0!==e._readyPromise_reject),e._readyPromise.catch((function(){})),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function Ce(e){x(void 0!==e._readyPromise_resolve),x(void 0!==e._readyPromise_reject),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}var ze,We=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},Ie=Object.getPrototypeOf(Object.getPrototypeOf(Object(S.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).prototype),Be=Symbol("[[CancelSteps]]"),Ne=Symbol("[[PullSteps]]");ze=Symbol.asyncIterator;var Fe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,e),this._state=void 0,this._reader=void 0,this._storedError=void 0,this._disturbed=void 0,this._readableStreamController=void 0,this[ze]=void 0,Ke(this);var n=r.size,i=r.highWaterMark,o=t.type,a=String(o);if("bytes"===a){if(void 0!==n)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===i&&(i=0),Vt(this,t,i=B(i))}else{if(void 0!==o)throw new RangeError("Invalid type is specified");var _=N(n);void 0===i&&(i=1),Tt(this,t,i=B(i),_)}}return Object(_.a)(e,[{key:"cancel",value:function(e){return!1===Ve(this)?Promise.reject(Yt("cancel")):!0===Ge(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):$e(this,e)}},{key:"getReader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mode;if(!1===Ve(this))throw Yt("getReader");if(void 0===t)return Me(this,!0);if("byob"===(t=String(t)))return Ue(this,!0);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(e){var t=e.writable,r=e.readable,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.preventClose,o=n.preventAbort,a=n.preventCancel,s=n.signal;if(!1===Ve(this))throw Yt("pipeThrough");if(!1===Q(t))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===Ve(r))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(i=Boolean(i),o=Boolean(o),a=Boolean(a),void 0!==s&&!Gt(s))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Ge(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===$(t))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var _=He(this,t,i,o,a,s);return _.catch((function(){})),r}},{key:"pipeTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.preventClose,n=t.preventAbort,i=t.preventCancel,o=t.signal;return!1===Ve(this)?Promise.reject(Yt("pipeTo")):!1===Q(e)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),n=Boolean(n),i=Boolean(i),void 0===o||Gt(o)?!0===Ge(this)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===$(e)?Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):He(this,e,r,n,i,o):Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))}},{key:"tee",value:function(){if(!1===Ve(this))throw Yt("tee");var e=function(e,t){x(!0===Ve(e)),x("boolean"===typeof t);var r,n,i,o,a,s=Me(e),_=!1,l=!1,u=!1,c=new Promise((function(e){a=e}));function h(){return dt(s).then((function(e){if(!0!==_){x(E(e));var t=e.done;if(x("boolean"===typeof t),!0===t)return!1===l&&gt(i._readableStreamController),!1===u&&gt(o._readableStreamController),void(_=!0);var r=e.value,n=r,a=r;!1===l&&yt(i._readableStreamController,n),!1===u&&yt(o._readableStreamController,a)}}))}function d(){}return i=De(d,h,(function(t){if(l=!0,r=t,!0===u){var i=P([r,n]),o=$e(e,i);a(o)}return c})),o=De(d,h,(function(t){if(u=!0,n=t,!0===l){var i=P([r,n]),o=$e(e,i);a(o)}return c})),s._closedPromise.catch((function(e){wt(i._readableStreamController,e),wt(o._readableStreamController,e)})),[i,o]}(this,!1);return P(e)}},{key:"getIterator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.preventCancel;if(!1===Ve(this))throw Yt("getIterator");var r=Me(this),n=Object.create(Le);return n._asyncIteratorReader=r,n._preventCancel=Boolean(t),n}},{key:"locked",get:function(){if(!1===Ve(this))throw Yt("locked");return Ge(this)}}]),e}(),Le={next:function(){if(!1===Ye(this))return Promise.reject(Ht("next"));var e=this._asyncIteratorReader;return void 0===e._ownerReadableStream?Promise.reject(Xt("iterate")):dt(e).then((function(t){x(E(t));var r=t.done;return x("boolean"===typeof r),r&&ht(e),Ze(t.value,r,!0)}))},return:function(e){if(!1===Ye(this))return Promise.reject(Ht("next"));var t=this._asyncIteratorReader;if(void 0===t._ownerReadableStream)return Promise.reject(Xt("finish iterating"));if(t._readRequests.length>0)return Promise.reject(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._preventCancel){var r=ct(t,e);return ht(t),r.then((function(){return Ze(e,!0,!0)}))}return ht(t),Promise.resolve(Ze(e,!0,!0))}};function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new st(e);return r._forAuthorCode=t,r}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new at(e);return r._forAuthorCode=t,r}function De(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return 1};x(!0===q(n));var o=Object.create(Fe.prototype);Ke(o);var a=Object.create(pt.prototype);return xt(o,a,e,t,r,n,i),o}function Ke(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Ve(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function Ge(e){return x(!0===Ve(e)),void 0!==e._reader}function Ye(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorReader")}function He(e,t,r,n,i,o){x(!0===Ve(e)),x(!0===Q(t)),x("boolean"===typeof r),x("boolean"===typeof n),x("boolean"===typeof i),x(void 0===o||Gt(o)),x(!1===Ge(e)),x(!1===$(t));var a=Me(e),s=H(t),_=!1,l=Promise.resolve();return new Promise((function(u,c){var h,d,p,f;if(void 0!==o){if(h=function(){var r=new DOMException("Aborted","AbortError"),o=[];!1===n&&o.push((function(){return"writable"===t._state?J(t,r):Promise.resolve()})),!1===i&&o.push((function(){return"readable"===e._state?$e(e,r):Promise.resolve()})),g((function(){return function(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=new Promise((function(e,t){r=e,n=t}));void 0===i&&(i=function(e){throw e});var a=function(e){try{var i=t(e);r(i)}catch(o){n(o)}},s=function(e){try{var t=i(e);r(t)}catch(o){n(o)}};return F(e,a,s),o}(o.map((function(e){return e()})),(function(e){return e}))}),!0,r)},!0===o.aborted)return void h();o.addEventListener("abort",h)}if(b(e,a._closedPromise,(function(e){!1===n?g((function(){return J(t,e)}),!0,e):y(!0,e)})),b(t,s._closedPromise,(function(t){!1===i?g((function(){return $e(e,t)}),!0,t):y(!0,t)})),d=e,p=a._closedPromise,f=function(){!1===r?g((function(){return function(e){var t=e._ownerWritableStream;x(void 0!==t);var r=t._state;return!0===re(t)||"closed"===r?Promise.resolve():"errored"===r?Promise.reject(t._storedError):(x("writable"===r||"erroring"===r),_e(e))}(s)})):y()},"closed"===d._state?f():p.then(f).catch(L),!0===re(t)||"closed"===t._state){var m=new TypeError("the destination writable stream closed before all data could be piped to it");!1===i?g((function(){return $e(e,m)}),!0,m):y(!0,m)}function v(){var e=l;return l.then((function(){return e!==l?v():void 0}))}function b(e,t,r){"errored"===e._state?r(e._storedError):t.catch(r).catch(L)}function g(e,r,n){function i(){e().then((function(){return w(r,n)}),(function(e){return w(!0,e)})).catch(L)}!0!==_&&(_=!0,"writable"===t._state&&!1===re(t)?v().then(i):i())}function y(e,r){!0!==_&&(_=!0,"writable"===t._state&&!1===re(t)?v().then((function(){return w(e,r)})).catch(L):w(e,r))}function w(e,t){ce(s),ht(a),void 0!==o&&o.removeEventListener("abort",h),e?c(t):u(void 0)}new Promise((function(e,t){!function r(n){n?e():(!0===_?Promise.resolve(!0):s._readyPromise.then((function(){return dt(a).then((function(e){var t=e.value;return!0===e.done||(l=he(s,t).catch((function(){})),!1)}))}))).then(r,t)}(!1)})).catch(L)}))}function Xe(e){return x(!0===_t(e._reader)),x("readable"===e._state||"closed"===e._state),new Promise((function(t,r){var n={_resolve:t,_reject:r};e._reader._readIntoRequests.push(n)}))}function Qe(e){return x(!0===lt(e._reader)),x("readable"===e._state),new Promise((function(t,r){var n={_resolve:t,_reject:r};e._reader._readRequests.push(n)}))}function $e(e,t){return e._disturbed=!0,"closed"===e._state?Promise.resolve(void 0):"errored"===e._state?Promise.reject(e._storedError):(Je(e),e._readableStreamController[Be](t).then((function(){})))}function Je(e){x("readable"===e._state),e._state="closed";var t=e._reader;void 0!==t&&(lt(t)&&(t._readRequests.forEach((function(e){e._resolve(Ze(void 0,!0,t._forAuthorCode))})),t._readRequests=new U),er(t))}function Ze(e,t,r){var n=null;!0===r&&(n=Object.prototype),x("boolean"===typeof t);var i=Object.create(n);return i.value=e,i.done=t,i}function et(e,t){x(!0===Ve(e)),x("readable"===e._state),e._state="errored",e._storedError=t;var r=e._reader;void 0!==r&&(lt(r)?(r._readRequests.forEach((function(e){e._reject(t)})),r._readRequests=new U):(x(_t(r)),r._readIntoRequests.forEach((function(e){e._reject(t)})),r._readIntoRequests=new U),Zt(r,t))}function tt(e,t,r){var n=e._reader;x(n._readRequests.length>0),n._readRequests.shift()._resolve(Ze(t,r,n._forAuthorCode))}function rt(e){return e._reader._readIntoRequests.length}function nt(e){return e._reader._readRequests.length}function it(e){var t=e._reader;return void 0!==t&&!!_t(t)}function ot(e){var t=e._reader;return void 0!==t&&!!lt(t)}void 0!==Ie&&Object.setPrototypeOf(Le,Ie),Object.defineProperty(Le,"next",{enumerable:!1}),Object.defineProperty(Le,"return",{enumerable:!1}),"symbol"===typeof Symbol.asyncIterator&&Object.defineProperty(Fe.prototype,Symbol.asyncIterator,{value:Fe.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var at=function(){function e(t){if(Object(s.a)(this,e),this._forAuthorCode=void 0,this._ownerReadableStream=void 0,this._closedPromise=void 0,this._closedPromise_resolve=void 0,this._closedPromise_reject=void 0,this._readRequests=void 0,!1===Ve(t))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Ge(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ut(this,t),this._readRequests=new U}return Object(_.a)(e,[{key:"cancel",value:function(e){return lt(this)?void 0===this._ownerReadableStream?Promise.reject(Xt("cancel")):ct(this,e):Promise.reject(Qt("cancel"))}},{key:"read",value:function(){return lt(this)?void 0===this._ownerReadableStream?Promise.reject(Xt("read from")):dt(this):Promise.reject(Qt("read"))}},{key:"releaseLock",value:function(){if(!lt(this))throw Qt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ht(this)}}},{key:"closed",get:function(){return lt(this)?this._closedPromise:Promise.reject(Qt("closed"))}}]),e}(),st=function(){function e(t){if(Object(s.a)(this,e),this._forAuthorCode=void 0,this._ownerReadableStream=void 0,this._closedPromise=void 0,this._closedPromise_resolve=void 0,this._closedPromise_reject=void 0,this._readIntoRequests=void 0,!Ve(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Et(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Ge(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ut(this,t),this._readIntoRequests=new U}return Object(_.a)(e,[{key:"cancel",value:function(e){return _t(this)?void 0===this._ownerReadableStream?Promise.reject(Xt("cancel")):ct(this,e):Promise.reject(tr("cancel"))}},{key:"read",value:function(e){return _t(this)?void 0===this._ownerReadableStream?Promise.reject(Xt("read from")):ArrayBuffer.isView(e)?!0===(e.buffer,!1)?Promise.reject(new TypeError("Cannot read into a view onto a detached ArrayBuffer")):0===e.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):function(e,t){var r=e._ownerReadableStream;if(x(void 0!==r),r._disturbed=!0,"errored"===r._state)return Promise.reject(r._storedError);return function(e,t){var r=e._controlledReadableByteStream,n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,o={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(o),Xe(r);if("closed"===r._state){var a=new i(o.buffer,o.byteOffset,0);return Promise.resolve(Ze(a,!0,r._reader._forAuthorCode))}if(e._queueTotalSize>0){if(!0===zt(e,o)){var s=qt(o);return It(e),Promise.resolve(Ze(s,!1,r._reader._forAuthorCode))}if(!0===e._closeRequested){var _=new TypeError("Insufficient bytes to fill elements in the given buffer");return Mt(e,_),Promise.reject(_)}}e._pendingPullIntos.push(o);var l=Xe(r);return Ot(e),l}(r._readableStreamController,t)}(this,e):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(tr("read"))}},{key:"releaseLock",value:function(){if(!_t(this))throw tr("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ht(this)}}},{key:"closed",get:function(){return _t(this)?this._closedPromise:Promise.reject(tr("closed"))}}]),e}();function _t(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function lt(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function ut(e,t){e._forAuthorCode=!0,e._ownerReadableStream=t,t._reader=e,"readable"===t._state?$t(e):"closed"===t._state?function(e){$t(e),er(e)}(e):(x("errored"===t._state),Jt(e,t._storedError))}function ct(e,t){var r=e._ownerReadableStream;return x(void 0!==r),$e(r,t)}function ht(e){x(void 0!==e._ownerReadableStream),x(e._ownerReadableStream._reader===e),"readable"===e._ownerReadableStream._state?Zt(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){x(void 0===e._closedPromise_resolve),x(void 0===e._closedPromise_reject),Jt(e,t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function dt(e){var t=e._ownerReadableStream;return x(void 0!==t),t._disturbed=!0,"closed"===t._state?Promise.resolve(Ze(void 0,!0,e._forAuthorCode)):"errored"===t._state?Promise.reject(t._storedError):(x("readable"===t._state),t._readableStreamController[Ne]())}var pt=function(){function e(){throw Object(s.a)(this,e),this._controlledReadableStream=void 0,this._queue=void 0,this._queueTotalSize=void 0,this._started=void 0,this._closeRequested=void 0,this._pullAgain=void 0,this._pulling=void 0,this._strategySizeAlgorithm=void 0,this._strategyHWM=void 0,this._pullAlgorithm=void 0,this._cancelAlgorithm=void 0,new TypeError}return Object(_.a)(e,[{key:"close",value:function(){if(!1===ft(this))throw rr("close");if(!1===St(this))throw new TypeError("The stream is not in a state that permits close");gt(this)}},{key:"enqueue",value:function(e){if(!1===ft(this))throw rr("enqueue");if(!1===St(this))throw new TypeError("The stream is not in a state that permits enqueue");return yt(this,e)}},{key:"error",value:function(e){if(!1===ft(this))throw rr("error");wt(this,e)}},{key:Be,value:function(e){K(this);var t=this._cancelAlgorithm(e);return bt(this),t}},{key:Ne,value:function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=M(this);return!0===this._closeRequested&&0===this._queue.length?(bt(this),Je(e)):mt(this),Promise.resolve(Ze(t,!1,e._reader._forAuthorCode))}var r=Qe(e);return mt(this),r}},{key:"desiredSize",get:function(){if(!1===ft(this))throw rr("desiredSize");return kt(this)}}]),e}();function ft(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function mt(e){!1!==vt(e)&&(!0!==e._pulling?(x(!1===e._pullAgain),e._pulling=!0,e._pullAlgorithm().then((function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,mt(e))}),(function(t){wt(e,t)})).catch(L)):e._pullAgain=!0)}function vt(e){var t=e._controlledReadableStream;if(!1===St(e))return!1;if(!1===e._started)return!1;if(!0===Ge(t)&&nt(t)>0)return!0;var r=kt(e);return x(null!==r),r>0}function bt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function gt(e){var t=e._controlledReadableStream;x(!0===St(e)),e._closeRequested=!0,0===e._queue.length&&(bt(e),Je(t))}function yt(e,t){var r=e._controlledReadableStream;if(x(!0===St(e)),!0===Ge(r)&&nt(r)>0)tt(r,t,!1);else{var n;try{n=e._strategySizeAlgorithm(t)}catch(i){throw wt(e,i),i}try{D(e,t,n)}catch(o){throw wt(e,o),o}}mt(e)}function wt(e,t){var r=e._controlledReadableStream;"readable"===r._state&&(K(e),bt(e),et(r,t))}function kt(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function St(e){var t=e._controlledReadableStream._state;return!1===e._closeRequested&&"readable"===t}function xt(e,t,r,n,i,o,a){x(void 0===e._readableStreamController),t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,K(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t;var s=r();Promise.resolve(s).then((function(){t._started=!0,x(!1===t._pulling),x(!1===t._pullAgain),mt(t)}),(function(e){wt(t,e)})).catch(L)}function Tt(e,t,r,n){x(void 0!==t);var i=Object.create(pt.prototype);var o=z(t,"pull",0,[i]),a=z(t,"cancel",1,[]);xt(e,i,(function(){return W(t,"start",[i])}),o,a,r,n)}var jt=function(){function e(){throw Object(s.a)(this,e),this._associatedReadableByteStreamController=void 0,this._view=void 0,new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object(_.a)(e,[{key:"respond",value:function(e){if(!1===Pt(this))throw nr("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!0===(this._view.buffer,!1))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");!function(e,t){if(!1===A(t=Number(t)))throw new RangeError("bytesWritten must be a finite");x(e._pendingPullIntos.length>0),Ft(e,t)}(this._associatedReadableByteStreamController,e)}},{key:"respondWithNewView",value:function(e){if(!1===Pt(this))throw nr("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(!0===(e.buffer,!1))throw new TypeError("The supplied view's buffer has been detached and so cannot be used as a response");!function(e,t){x(e._pendingPullIntos.length>0);var r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,Ft(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}},{key:"view",get:function(){if(!1===Pt(this))throw nr("view");return this._view}}]),e}(),Rt=function(){function e(){throw Object(s.a)(this,e),this._controlledReadableByteStream=void 0,this._queue=void 0,this._queueTotalSize=void 0,this._started=void 0,this._closeRequested=void 0,this._pullAgain=void 0,this._pulling=void 0,this._strategyHWM=void 0,this._pullAlgorithm=void 0,this._cancelAlgorithm=void 0,this._autoAllocateChunkSize=void 0,this._byobRequest=void 0,this._pendingPullIntos=void 0,new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object(_.a)(e,[{key:"close",value:function(){if(!1===Et(this))throw ir("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in ".concat(e," state) is not in the readable state and cannot be closed"));!function(e){var t=e._controlledReadableByteStream;if(x(!1===e._closeRequested),x("readable"===t._state),e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0){if(e._pendingPullIntos.peek().bytesFilled>0){var r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Mt(e,r),r}}Ut(e),Je(t)}(this)}},{key:"enqueue",value:function(e){if(!1===Et(this))throw ir("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in ".concat(t," state) is not in the readable state and cannot be enqueued to"));if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(!0===(e.buffer,!1))throw new TypeError("Cannot enqueue a view onto a detached ArrayBuffer");!function(e,t){var r=e._controlledReadableByteStream;x(!1===e._closeRequested),x("readable"===r._state);var n=t.buffer,i=t.byteOffset,o=t.byteLength,a=n;if(!0===ot(r))if(0===nt(r))Ct(e,a,i,o);else{x(0===e._queue.length);var s=new Uint8Array(a,i,o);tt(r,s,!1)}else!0===it(r)?(Ct(e,a,i,o),Nt(e)):(x(!1===Ge(r)),Ct(e,a,i,o));Ot(e)}(this,e)}},{key:"error",value:function(e){if(!1===Et(this))throw ir("error");Mt(this,e)}},{key:Be,value:function(e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0);K(this);var t=this._cancelAlgorithm(e);return Ut(this),t}},{key:Ne,value:function(){var e=this._controlledReadableByteStream;if(x(!0===ot(e)),this._queueTotalSize>0){x(0===nt(e));var t,r=this._queue.shift();this._queueTotalSize-=r.byteLength,It(this);try{t=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}catch(s){return Promise.reject(s)}return Promise.resolve(Ze(t,!1,e._reader._forAuthorCode))}var n=this._autoAllocateChunkSize;if(void 0!==n){var i;try{i=new ArrayBuffer(n)}catch(_){return Promise.reject(_)}var o={buffer:i,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}var a=Qe(e);return Ot(this),a}},{key:"byobRequest",get:function(){if(!1===Et(this))throw ir("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(jt.prototype);!function(e,t,r){x(!0===Et(t)),x("object"===typeof r),x(!0===ArrayBuffer.isView(r)),x(!1===(r.buffer,!1)),e._associatedReadableByteStreamController=t,e._view=r}(r,this,t),this._byobRequest=r}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===Et(this))throw ir("desiredSize");return Dt(this)}}]),e}();function Et(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function Pt(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function Ot(e){!1!==function(e){var t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===ot(t)&&nt(t)>0)return!0;if(!0===it(t)&&rt(t)>0)return!0;var r=Dt(e);if(x(null!==r),r>0)return!0;return!1}(e)&&(!0!==e._pulling?(x(!1===e._pullAgain),e._pulling=!0,e._pullAlgorithm().then((function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,Ot(e))}),(function(t){Mt(e,t)})).catch(L)):e._pullAgain=!0)}function At(e,t){x("errored"!==e._state);var r=!1;"closed"===e._state&&(x(0===t.bytesFilled),r=!0);var n=qt(t);"default"===t.readerType?tt(e,n,r):(x("byob"===t.readerType),function(e,t,r){var n=e._reader;x(n._readIntoRequests.length>0),n._readIntoRequests.shift()._resolve(Ze(t,r,n._forAuthorCode))}(e,n,r))}function qt(e){var t=e.bytesFilled,r=e.elementSize;return x(t<=e.byteLength),x(t%r===0),new e.ctor(e.buffer,e.byteOffset,t/r)}function Ct(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function zt(e,t){var r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),o=t.bytesFilled+i,a=o-o%r,s=i,_=!1;a>n&&(s=a-t.bytesFilled,_=!0);for(var l=e._queue;s>0;){var u=l.peek(),c=Math.min(s,u.byteLength),h=t.byteOffset+t.bytesFilled;O(t.buffer,h,u.buffer,u.byteOffset,c),u.byteLength===c?l.shift():(u.byteOffset+=c,u.byteLength-=c),e._queueTotalSize-=c,Wt(e,c,t),s-=c}return!1===_&&(x(0===e._queueTotalSize),x(t.bytesFilled>0),x(t.bytesFilled<t.elementSize)),_}function Wt(e,t,r){x(0===e._pendingPullIntos.length||e._pendingPullIntos.peek()===r),Bt(e),r.bytesFilled+=t}function It(e){x("readable"===e._controlledReadableByteStream._state),0===e._queueTotalSize&&!0===e._closeRequested?(Ut(e),Je(e._controlledReadableByteStream)):Ot(e)}function Bt(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function Nt(e){for(x(!1===e._closeRequested);e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();!0===zt(e,t)&&(Lt(e),At(e._controlledReadableByteStream,t))}}function Ft(e,t){var r=e._pendingPullIntos.peek(),n=e._controlledReadableByteStream;if("closed"===n._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=t.buffer,x(0===t.bytesFilled);var r=e._controlledReadableByteStream;if(!0===it(r))for(;rt(r)>0;){At(r,Lt(e))}}(e,r)}else x("readable"===n._state),function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(Wt(e,t,r),!(r.bytesFilled<r.elementSize)){Lt(e);var n=r.bytesFilled%r.elementSize;if(n>0){var i=r.byteOffset+r.bytesFilled,o=r.buffer.slice(i-n,i);Ct(e,o,0,o.byteLength)}r.buffer=r.buffer,r.bytesFilled-=n,At(e._controlledReadableByteStream,r),Nt(e)}}(e,t,r);Ot(e)}function Lt(e){var t=e._pendingPullIntos.shift();return Bt(e),t}function Ut(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Mt(e,t){var r=e._controlledReadableByteStream;"readable"===r._state&&(!function(e){Bt(e),e._pendingPullIntos=new U}(e),K(e),Ut(e),et(r,t))}function Dt(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Kt(e,t,r,n,i,o,a){x(void 0===e._readableStreamController),void 0!==a&&(x(!0===We(a)),x(a>0)),t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=void 0,t._queue=t._queueTotalSize=void 0,K(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=B(o),t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=a,t._pendingPullIntos=new U,e._readableStreamController=t;var s=r();Promise.resolve(s).then((function(){t._started=!0,x(!1===t._pulling),x(!1===t._pullAgain),Ot(t)}),(function(e){Mt(t,e)})).catch(L)}function Vt(e,t,r){x(void 0!==t);var n=Object.create(Rt.prototype);var i=z(t,"pull",0,[n]),o=z(t,"cancel",1,[]),a=t.autoAllocateChunkSize;if(void 0!==a&&(a=Number(a),!1===We(a)||a<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");Kt(e,n,(function(){return W(t,"start",[n])}),i,o,r,a)}function Gt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getOwnPropertyDescriptor(AbortSignal.prototype,"aborted").get;try{return t.call(e),!0}catch(r){return!1}}function Yt(e){return new TypeError("ReadableStream.prototype.".concat(e," can only be used on a ReadableStream"))}function Ht(e){return new TypeError("ReadableStreamAsyncIterator.".concat(e," can only be used on a ReadableSteamAsyncIterator"))}function Xt(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Qt(e){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(e," can only be used on a ReadableStreamDefaultReader"))}function $t(e){e._closedPromise=new Promise((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function Jt(e,t){$t(e),Zt(e,t)}function Zt(e,t){x(void 0!==e._closedPromise_resolve),x(void 0!==e._closedPromise_reject),e._closedPromise.catch((function(){})),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function er(e){x(void 0!==e._closedPromise_resolve),x(void 0!==e._closedPromise_reject),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function tr(e){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(e," can only be used on a ReadableStreamBYOBReader"))}function rr(e){return new TypeError("ReadableStreamDefaultController.prototype.".concat(e," can only be used on a ReadableStreamDefaultController"))}function nr(e){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(e," can only be used on a ReadableStreamBYOBRequest"))}function ir(e){return new TypeError("ReadableByteStreamController.prototype.".concat(e," can only be used on a ReadableByteStreamController"))}var or=r(69),ar=r.n(or),sr=r(19);function _r(){return(_r=Object(sr.a)(k.a.mark((function e(t,r){var n,i,o,a,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="boardIt",e.next=3,lr("reveal.css",r);case 3:return i=e.sent,e.next=6,lr("reset.css",r);case 6:return o=e.sent,e.next=9,lr("theme/black.css",r);case 9:return a=e.sent,e.next=12,lr("reveal.js",r);case 12:return s=e.sent,console.log(s),e.abrupt("return",'\n<!doctype html>\n<html>\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">\n    <style id="reveal-style-id">'.concat(i,'</style>\n    <style id="reveal-theme-id">').concat(a,'</style>\n    <style id="reveal-reset-id">').concat(o,'</style>\n    <link rel="stylesheet" href="dist/theme/white.css">\n    <title>').concat(n,'</title>\n  </head>\n  <body>\n    <div class="reveal">\n      <div class="slides">\n        ').concat(t,'\n      </div>\n    </div>\n    <script id="reveal-source-id">').concat(s,"<\/script>\n    <script>\n      Reveal.initialize();\n    <\/script>\n  </body>\n</html>"));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lr(e,t){return ur.apply(this,arguments)}function ur(){return(ur=Object(sr.a)(k.a.mark((function e(t,r){var n,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://raw.githubusercontent.com/hakimel/reveal.js/".concat(r,"/dist/").concat(t),e.next=3,fetch(n);case 3:return i=e.sent,e.abrupt("return",i.text());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cr=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).state={text:"<section>Section 1</section><section>Section 2</section>",version:"error"},n.changeText=n.changeText.bind(Object(l.a)(n)),n.saveText=n.saveText.bind(Object(l.a)(n)),n.formatText=n.formatText.bind(Object(l.a)(n)),n.setVersion=n.setVersion.bind(Object(l.a)(n)),n}return Object(_.a)(r,[{key:"changeText",value:function(e){this.setState({text:e})}},{key:"setVersion",value:function(e){this.setState({version:e})}},{key:"saveText",value:function(){(function(e,t){return _r.apply(this,arguments)})(this.state.text,this.state.version).then((function(e){console.log(e),function(e,t){var r=(new TextEncoder).encode(t);y.a.WritableStream=Y;var n=y.a.createWriteStream(e,{size:r.byteLength,writableStrategy:void 0,readableStrategy:void 0}).getWriter();n.write(r),n.close()}("boardit.html",e)}))}},{key:"formatText",value:function(){var e=this.state.text;this.setState({text:ar()(e,null,null,null)})}},{key:"render",value:function(){var e={change:this.changeText,save:this.saveText,format:this.formatText};return i.a.createElement("div",null,i.a.createElement(b,{callbacks:e}),i.a.createElement("div",{className:"App"},i.a.createElement(p,{value:this.state.text,callbacks:e}),i.a.createElement(m,{content:this.state.text,versionCallback:this.setVersion})))}}]),r}(i.a.Component);a.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(cr,null)),document.getElementById("root"))},17:function(e,t){function r(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}r.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},r.prototype.read_match=function(){return this._input.match(this._match_pattern)},r.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},r.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},r.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},r.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){},e.exports.Pattern=r},62:function(e,t,r){var n=r(100).Options;function i(e){n.call(this,e,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}i.prototype=new n,e.exports.Options=i},63:function(e,t,r){var n=r(64).Tokenizer,i=r(64).TOKEN,o=r(106).Directives,a=r(107).TemplatablePattern,s=r(17).Pattern,_={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:i.START,RAW:i.RAW,EOF:i.EOF},l=new o(/<!--/,/-->/),u=function(e,t){n.call(this,e,t),this._current_tag_name="";var r=new a(this._input).read_options(this._options),i=new s(this._input);if(this.__patterns={word:r.until(/[\n\r\t <]/),single_quote:r.until_after(/'/),double_quote:r.until_after(/"/),attribute:r.until(/[\n\r\t =>]|\/>/),element_name:r.until(/[\n\r\t >/]/),handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),handlebars_open:i.until(/[\n\r\t }]/),handlebars_raw_close:i.until(/}}/),comment:i.starting_with(/<!--/).until_after(/-->/),cdata:i.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:i.starting_with(/<!\[/).until_after(/]>/),processing:i.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var o=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=i.matching(o).until_after(o)}};(u.prototype=new n)._is_comment=function(e){return!1},u.prototype._is_opening=function(e){return e.type===_.TAG_OPEN},u.prototype._is_closing=function(e,t){return e.type===_.TAG_CLOSE&&t&&((">"===e.text||"/>"===e.text)&&"<"===t.text[0]||"}}"===e.text&&"{"===t.text[0]&&"{"===t.text[1])},u.prototype._reset=function(){this._current_tag_name=""},u.prototype._get_next_token=function(e,t){var r=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(_.EOF,""):r=(r=(r=(r=(r=(r=(r=(r=(r=r||this._read_open_handlebars(n,t))||this._read_attribute(n,e,t))||this._read_close(n,t))||this._read_raw_content(n,e,t))||this._read_content_word(n))||this._read_comment_or_cdata(n))||this._read_processing(n))||this._read_open(n,t))||this._create_token(_.UNKNOWN,this._input.next())},u.prototype._read_comment_or_cdata=function(e){var t=null,r=null,n=null;"<"===e&&("!"===this._input.peek(1)&&((r=this.__patterns.comment.read())?(n=l.get_directives(r))&&"start"===n.ignore&&(r+=l.readIgnored(this._input)):r=this.__patterns.cdata.read()),r&&((t=this._create_token(_.COMMENT,r)).directives=n));return t},u.prototype._read_processing=function(e){var t=null,r=null;if("<"===e){var n=this._input.peek(1);"!"!==n&&"?"!==n||(r=(r=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),r&&((t=this._create_token(_.COMMENT,r)).directives=null)}return t},u.prototype._read_open=function(e,t){var r=null,n=null;return t||"<"===e&&(r=this._input.next(),"/"===this._input.peek()&&(r+=this._input.next()),r+=this.__patterns.element_name.read(),n=this._create_token(_.TAG_OPEN,r)),n},u.prototype._read_open_handlebars=function(e,t){var r=null,n=null;return t||this._options.indent_handlebars&&"{"===e&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(r=(r=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),n=this._create_token(_.COMMENT,r)):(r=this.__patterns.handlebars_open.read(),n=this._create_token(_.TAG_OPEN,r))),n},u.prototype._read_close=function(e,t){var r=null,n=null;return t&&("<"===t.text[0]&&(">"===e||"/"===e&&">"===this._input.peek(1))?(r=this._input.next(),"/"===e&&(r+=this._input.next()),n=this._create_token(_.TAG_CLOSE,r)):"{"===t.text[0]&&"}"===e&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),n=this._create_token(_.TAG_CLOSE,"}}"))),n},u.prototype._read_attribute=function(e,t,r){var n=null,i="";if(r&&"<"===r.text[0])if("="===e)n=this._create_token(_.EQUALS,this._input.next());else if('"'===e||"'"===e){var o=this._input.next();o+='"'===e?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),n=this._create_token(_.VALUE,o)}else(i=this.__patterns.attribute.read())&&(n=t.type===_.EQUALS?this._create_token(_.VALUE,i):this._create_token(_.ATTRIBUTE,i));return n},u.prototype._is_content_unformatted=function(e){return-1===this._options.void_elements.indexOf(e)&&(-1!==this._options.content_unformatted.indexOf(e)||-1!==this._options.unformatted.indexOf(e))},u.prototype._read_raw_content=function(e,t,r){var n="";if(r&&"{"===r.text[0])n=this.__patterns.handlebars_raw_close.read();else if(t.type===_.TAG_CLOSE&&"<"===t.opened.text[0]&&"/"!==t.text[0]){var i=t.opened.text.substr(1).toLowerCase();if("script"===i||"style"===i){var o=this._read_comment_or_cdata(e);if(o)return o.type=_.TEXT,o;n=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(n=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return n?this._create_token(_.TEXT,n):null},u.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(_.TEXT,t)},e.exports.Tokenizer=u,e.exports.TOKEN=_},64:function(e,t,r){var n=r(102).InputScanner,i=r(103).Token,o=r(104).TokenStream,a=r(105).WhitespacePattern,s={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},_=function(e,t){this._input=new n(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new a(this._input)};_.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new o,this._reset();for(var t=new i(s.START,""),r=null,n=[],a=new o;t.type!==s.EOF;){for(e=this._get_next_token(t,r);this._is_comment(e);)a.add(e),e=this._get_next_token(t,r);a.isEmpty()||(e.comments_before=a,a=new o),e.parent=r,this._is_opening(e)?(n.push(r),r=e):r&&this._is_closing(e,r)&&(e.opened=r,r.closed=e,r=n.pop(),e.parent=r),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},_.prototype._is_first_token=function(){return this.__tokens.isEmpty()},_.prototype._reset=function(){},_.prototype._get_next_token=function(e,t){this._readWhitespace();var r=this._input.read(/.+/g);return r?this._create_token(s.RAW,r):this._create_token(s.EOF,"")},_.prototype._is_comment=function(e){return!1},_.prototype._is_opening=function(e){return!1},_.prototype._is_closing=function(e,t){return!1},_.prototype._create_token=function(e,t){return new i(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},_.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},e.exports.Tokenizer=_,e.exports.TOKEN=s},69:function(e,t,r){var n=r(99).Beautifier,i=r(62).Options;e.exports=function(e,t,r,i){return new n(e,t,r,i).beautify()},e.exports.defaultOptions=function(){return new i}},71:function(e,t,r){e.exports=r(108)},76:function(e,t,r){},77:function(e,t,r){},85:function(e,t,r){},92:function(e,t,r){var n={"./theme-ambiance":25,"./theme-ambiance.js":25,"./theme-chaos":26,"./theme-chaos.js":26,"./theme-chrome":27,"./theme-chrome.js":27,"./theme-clouds":28,"./theme-clouds.js":28,"./theme-clouds_midnight":29,"./theme-clouds_midnight.js":29,"./theme-cobalt":30,"./theme-cobalt.js":30,"./theme-crimson_editor":31,"./theme-crimson_editor.js":31,"./theme-dawn":32,"./theme-dawn.js":32,"./theme-dracula":33,"./theme-dracula.js":33,"./theme-dreamweaver":34,"./theme-dreamweaver.js":34,"./theme-eclipse":35,"./theme-eclipse.js":35,"./theme-github":36,"./theme-github.js":36,"./theme-gob":37,"./theme-gob.js":37,"./theme-gruvbox":38,"./theme-gruvbox.js":38,"./theme-idle_fingers":39,"./theme-idle_fingers.js":39,"./theme-iplastic":40,"./theme-iplastic.js":40,"./theme-katzenmilch":41,"./theme-katzenmilch.js":41,"./theme-kr_theme":42,"./theme-kr_theme.js":42,"./theme-kuroir":43,"./theme-kuroir.js":43,"./theme-merbivore":44,"./theme-merbivore.js":44,"./theme-merbivore_soft":45,"./theme-merbivore_soft.js":45,"./theme-mono_industrial":46,"./theme-mono_industrial.js":46,"./theme-monokai":16,"./theme-monokai.js":16,"./theme-nord_dark":47,"./theme-nord_dark.js":47,"./theme-pastel_on_dark":48,"./theme-pastel_on_dark.js":48,"./theme-solarized_dark":49,"./theme-solarized_dark.js":49,"./theme-solarized_light":50,"./theme-solarized_light.js":50,"./theme-sqlserver":51,"./theme-sqlserver.js":51,"./theme-terminal":52,"./theme-terminal.js":52,"./theme-textmate":53,"./theme-textmate.js":53,"./theme-tomorrow":54,"./theme-tomorrow.js":54,"./theme-tomorrow_night":55,"./theme-tomorrow_night.js":55,"./theme-tomorrow_night_blue":56,"./theme-tomorrow_night_blue.js":56,"./theme-tomorrow_night_bright":57,"./theme-tomorrow_night_bright.js":57,"./theme-tomorrow_night_eighties":58,"./theme-tomorrow_night_eighties.js":58,"./theme-twilight":59,"./theme-twilight.js":59,"./theme-vibrant_ink":60,"./theme-vibrant_ink.js":60,"./theme-xcode":61,"./theme-xcode.js":61};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=92},95:function(e,t,r){},96:function(e,t,r){},99:function(e,t,r){var n=r(62).Options,i=r(101).Output,o=r(63).Tokenizer,a=r(63).TOKEN,s=/\r\n|[\r\n]/,_=/\r\n|[\r\n]/g,l=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new i(e,t)};l.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)},l.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t},l.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},l.prototype.add_raw_token=function(e){this._output.add_raw_token(e)},l.prototype.print_preserved_newlines=function(e){var t=0;e.type!==a.TEXT&&e.previous.type!==a.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var r=0;r<t;r++)this.print_newline(r>0);return 0!==t},l.prototype.traverse_whitespace=function(e){return!(!e.whitespace_before&&!e.newlines)&&(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0)},l.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},l.prototype.print_newline=function(e){this._output.add_new_line(e)},l.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))},l.prototype.indent=function(){this.indent_level++},l.prototype.get_full_indent=function(e){return(e=this.indent_level+(e||0))<1?"":this._output.get_indent_string(e)};var u=function(e,t){var r=null,n=null;return t.closed?("script"===e?r="text/javascript":"style"===e&&(r="text/css"),(r=function(e){for(var t=null,r=e.next;r.type!==a.EOF&&e.closed!==r;){if(r.type===a.ATTRIBUTE&&"type"===r.text){r.next&&r.next.type===a.EQUALS&&r.next.next&&r.next.next.type===a.VALUE&&(t=r.next.next.text);break}r=r.next}return t}(t)||r).search("text/css")>-1?n="css":r.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?n="javascript":r.search(/(text|application|dojo)\/(x-)?(html)/)>-1?n="html":r.search(/test\/null/)>-1&&(n="null"),n):null};function c(e,t){return-1!==t.indexOf(e)}function h(e,t,r){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=r||0,this.parser_token=t||null}function d(e){this._printer=e,this._current_frame=null}function p(e,t,r,i){this._source_text=e||"",t=t||{},this._js_beautify=r,this._css_beautify=i,this._tag_stack=null;var o=new n(t,"html");this._options=o,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}d.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},d.prototype.record_tag=function(e){var t=new h(this._current_frame,e,this._printer.indent_level);this._current_frame=t},d.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t},d.prototype._get_frame=function(e,t){for(var r=this._current_frame;r&&-1===e.indexOf(r.tag);){if(t&&-1!==t.indexOf(r.tag)){r=null;break}r=r.parent}return r},d.prototype.try_pop=function(e,t){var r=this._get_frame([e],t);return this._try_pop_frame(r)},d.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)},p.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&s.test(e)&&(t=e.match(s)[0]));var r=(e=e.replace(_,"\n")).match(/^[\t ]*/)[0],n={text:"",type:""},i=new f,u=new l(this._options,r),c=new o(e,this._options).tokenize();this._tag_stack=new d(u);for(var h=null,p=c.next();p.type!==a.EOF;)p.type===a.TAG_OPEN||p.type===a.COMMENT?i=h=this._handle_tag_open(u,p,i,n):p.type===a.ATTRIBUTE||p.type===a.EQUALS||p.type===a.VALUE||p.type===a.TEXT&&!i.tag_complete?h=this._handle_inside_tag(u,p,i,c):p.type===a.TAG_CLOSE?h=this._handle_tag_close(u,p,i):p.type===a.TEXT?h=this._handle_text(u,p,i):u.add_raw_token(p),n=h,p=c.next();return u._output.get_code(t)},p.prototype._handle_tag_close=function(e,t,r){var n={text:t.text,type:t.type};return e.alignment_size=0,r.tag_complete=!0,e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),r.is_unformatted?e.add_raw_token(t):("<"===r.tag_start_char&&(e.set_space_before_token("/"===t.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&r.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),!r.indent_content||r.is_unformatted||r.is_content_unformatted||(e.indent(),r.indent_content=!1),r.is_inline_element||r.is_unformatted||r.is_content_unformatted||e.set_wrap_point(),n},p.prototype._handle_inside_tag=function(e,t,r,n){var i=r.has_wrapped_attrs,o={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),r.is_unformatted)e.add_raw_token(t);else if("{"===r.tag_start_char&&t.type===a.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===a.ATTRIBUTE?(e.set_space_before_token(!0),r.attr_count+=1):(t.type===a.EQUALS||t.type===a.VALUE&&t.previous.type===a.EQUALS)&&e.set_space_before_token(!1),t.type===a.ATTRIBUTE&&"<"===r.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),i=i||0!==t.newlines),this._is_wrap_attributes_force)){var s=r.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===r.attr_count){var _,l=!0,u=0;do{if((_=n.peek(u)).type===a.ATTRIBUTE){l=!1;break}u+=1}while(u<4&&_.type!==a.EOF&&_.type!==a.TAG_CLOSE);s=!l}s&&(e.print_newline(!1),i=!0)}e.print_token(t),i=i||e.previous_token_wrapped(),r.has_wrapped_attrs=i}return o},p.prototype._handle_text=function(e,t,r){var n={text:t.text,type:"TK_CONTENT"};return r.custom_beautifier_name?this._print_custom_beatifier_text(e,t,r):r.is_unformatted||r.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),n},p.prototype._print_custom_beatifier_text=function(e,t,r){var n=this;if(""!==t.text){var i,o=t.text,a=1,s="",_="";"javascript"===r.custom_beautifier_name&&"function"===typeof this._js_beautify?i=this._js_beautify:"css"===r.custom_beautifier_name&&"function"===typeof this._css_beautify?i=this._css_beautify:"html"===r.custom_beautifier_name&&(i=function(e,t){return new p(e,t,n._js_beautify,n._css_beautify).beautify()}),"keep"===this._options.indent_scripts?a=0:"separate"===this._options.indent_scripts&&(a=-e.indent_level);var l=e.get_full_indent(a);if(o=o.replace(/\n[ \t]*$/,""),"html"!==r.custom_beautifier_name&&"<"===o[0]&&o.match(/^(<!--|<!\[CDATA\[)/)){var u=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(o);if(!u)return void e.add_raw_token(t);s=l+u[1]+"\n",o=u[4],u[5]&&(_=l+u[5]),o=o.replace(/\n[ \t]*$/,""),(u[2]||-1!==u[3].indexOf("\n"))&&(u=u[3].match(/[ \t]+$/))&&(t.whitespace_before=u[0])}if(o)if(i){var c=function(){this.eol="\n"};c.prototype=this._options.raw_options,o=i(l+o,new c)}else{var h=t.whitespace_before;h&&(o=o.replace(new RegExp("\n("+h+")?","g"),"\n")),o=l+o.replace(/\n/g,"\n"+l)}s&&(o=o?s+o+"\n"+_:s+_),e.print_newline(!1),o&&(t.text=o,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}},p.prototype._handle_tag_open=function(e,t,r,n){var i=this._get_tag_open_token(t);return!r.is_unformatted&&!r.is_content_unformatted||r.is_empty_element||t.type!==a.TAG_OPEN||0!==t.text.indexOf("</")?(e.traverse_whitespace(t),this._set_tag_position(e,t,i,r,n),i.is_inline_element||e.set_wrap_point(),e.print_token(t)):(e.add_raw_token(t),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=t.text.length+1),i.tag_complete||i.is_unformatted||(e.alignment_size=i.alignment_size),i};var f=function(e,t){var r;(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",t)?(this.tag_start_char=t.text[0],this.text=t.text,"<"===this.tag_start_char?(r=t.text.match(/^<([^\s>]*)/),this.tag_check=r?r[1]:""):(r=t.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=r?r[1]:"","{{#>"===t.text&&">"===this.tag_check&&null!==t.next&&(this.tag_check=t.next.text)),this.tag_check=this.tag_check.toLowerCase(),t.type===a.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&"/>"===t.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#^]/.test(this.text.charAt(2)))):this.tag_complete=!0};p.prototype._get_tag_open_token=function(e){var t=new f(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||c(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&c(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&c(t.tag_check,this._options.content_unformatted),t.is_inline_element=c(t.tag_name,this._options.inline)||"{"===t.tag_start_char,t},p.prototype._set_tag_position=function(e,t,r,n,i){if(r.is_empty_element||(r.is_end_tag?r.start_tag_token=this._tag_stack.try_pop(r.tag_name):(this._do_optional_end_element(r)&&(r.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(r),"script"!==r.tag_name&&"style"!==r.tag_name||r.is_unformatted||r.is_content_unformatted||(r.custom_beautifier_name=u(r.tag_check,t)))),c(r.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),r.is_empty_element){if("{"===r.tag_start_char&&"else"===r.tag_check)this._tag_stack.indent_to_tag(["if","unless","each"]),r.indent_content=!0,e.current_line_has_match(/{{#if/)||e.print_newline(!1);"!--"===r.tag_name&&i.type===a.TAG_CLOSE&&n.is_end_tag&&-1===r.text.indexOf("\n")||(r.is_inline_element||r.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,r))}else if(r.is_end_tag){var o=!1;o=(o=r.start_tag_token&&r.start_tag_token.multiline_content)||!r.is_inline_element&&!(n.is_inline_element||n.is_unformatted)&&!(i.type===a.TAG_CLOSE&&r.start_tag_token===n)&&"TK_CONTENT"!==i.type,(r.is_content_unformatted||r.is_unformatted)&&(o=!1),o&&e.print_newline(!1)}else r.indent_content=!r.custom_beautifier_name,"<"===r.tag_start_char&&("html"===r.tag_name?r.indent_content=this._options.indent_inner_html:"head"===r.tag_name?r.indent_content=this._options.indent_head_inner_html:"body"===r.tag_name&&(r.indent_content=this._options.indent_body_inner_html)),r.is_inline_element||r.is_unformatted||"TK_CONTENT"===i.type&&!r.is_content_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,r)},p.prototype._calcluate_parent_multiline=function(e,t){!t.parent||!e._output.just_added_newline()||(t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element||(t.parent.multiline_content=!0)};var m=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],v=["a","audio","del","ins","map","noscript","video"];p.prototype._do_optional_end_element=function(e){var t=null;if(!e.is_empty_element&&e.is_start_tag&&e.parent){if("body"===e.tag_name)t=t||this._tag_stack.try_pop("head");else if("li"===e.tag_name)t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===e.tag_name||"dt"===e.tag_name)t=(t=t||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]);else if("p"===e.parent.tag_name&&-1!==m.indexOf(e.tag_name)){var r=e.parent.parent;r&&-1!==v.indexOf(r.tag_name)||(t=t||this._tag_stack.try_pop("p"))}else"rp"===e.tag_name||"rt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===e.tag_name?t=t||this._tag_stack.try_pop("optgroup",["select"]):"option"===e.tag_name?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===e.tag_name?t=t||this._tag_stack.try_pop("caption",["table"]):"thead"===e.tag_name?t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===e.tag_name||"tfoot"===e.tag_name?t=(t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===e.tag_name?t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==e.tag_name&&"td"!==e.tag_name||(t=(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}},e.exports.Beautifier=p}},[[71,1,2]]]);
//# sourceMappingURL=main.aa8ff03c.chunk.js.map